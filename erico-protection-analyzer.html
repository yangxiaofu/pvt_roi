<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Surge Protection Solution for Mission-Critical Sites</title>
    <style>
        /* nVent Brand Colors - Minimalistic Approach */
        :root {
            --nvent-red: #c4262e;
            --nvent-deep-red: #772432;
            --nvent-black: #1a1a1a;
            --nvent-gray: #f8f9fa;
            --nvent-orange: #ff6319;
            --nvent-yellow: #ffed46;
            --nvent-gold: #eeaf00;
            --nvent-bronze: #ab8422;
            --nvent-cool-gray: #6c757d;
            --white: #ffffff;
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --border-light: #e2e8f0;
            --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--white);
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            line-height: 1.6;
            font-weight: 400;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 100vh;
        }

        /* Header - Minimalistic */
        .header {
            margin-bottom: 60px;
            padding: 0;
            display: flex;
            align-items: center;
            gap: 30px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 30px;
        }

        .header-logo {
            flex-shrink: 0;
        }

        .header-logo img {
            height: 40px;
            width: auto;
            opacity: 0.9;
        }

        .header-content {
            flex: 1;
        }

        .header h1 {
            color: var(--text-primary);
            font-size: 2.5em;
            font-weight: 300;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1em;
            font-weight: 400;
        }

        /* Progress Indicator - Minimalistic */
        .progress-container {
            background: var(--border-light);
            border-radius: 2px;
            height: 2px;
            margin: 40px 0 60px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--nvent-red);
            width: 25%;
            transition: width 0.4s ease;
            border-radius: 2px;
        }

        /* Screen Container - Clean */
        .screen {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Screen Headers */
        .screen h2 {
            color: var(--text-primary);
            font-size: 2.2em;
            font-weight: 300;
            margin-bottom: 50px;
            text-align: center;
        }

        /* Form Elements - Minimalistic */
        .form-group {
            margin-bottom: 50px;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 30px;
            color: var(--text-primary);
            font-size: 1.3em;
            text-align: center;
        }

        /* Radio Buttons - Minimalistic Card Design */
        .radio-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        .radio-option {
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            text-align: center;
        }

        .radio-option:hover {
            border-color: var(--nvent-red);
            box-shadow: var(--shadow-subtle);
        }

        .radio-option.selected {
            border-color: var(--nvent-red);
            box-shadow: 0 0 0 1px var(--nvent-red);
        }

        .radio-option input[type="radio"] {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .radio-option-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .radio-checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-light);
            border-radius: 50%;
            position: relative;
            transition: all 0.2s ease;
        }

        .radio-option.selected .radio-checkmark {
            border-color: var(--nvent-red);
            background: var(--nvent-red);
        }

        .radio-option.selected .radio-checkmark::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--white);
        }

        .radio-text {
            text-align: center;
        }

        .radio-text h3 {
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 1.3em;
            font-weight: 500;
        }

        .radio-text p {
            color: var(--text-secondary);
            font-size: 0.95em;
            line-height: 1.4;
        }

        /* Buttons - Minimalistic */
        .button-group {
            display: flex;
            gap: 20px;
            margin-top: 60px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 16px 32px;
            border: 1px solid var(--border-light);
            border-radius: 6px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            letter-spacing: 0;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--nvent-red);
            color: var(--white);
            border-color: var(--nvent-red);
            min-width: 200px;
        }

        .btn-primary:hover {
            background: var(--nvent-deep-red);
            border-color: var(--nvent-deep-red);
        }

        .btn-primary:disabled {
            background: var(--border-light);
            border-color: var(--border-light);
            color: var(--text-secondary);
            cursor: not-allowed;
        }

        .btn-secondary {
            background: var(--white);
            color: var(--text-secondary);
            border-color: var(--border-light);
            min-width: 120px;
        }

        .btn-secondary:hover {
            color: var(--text-primary);
            border-color: var(--text-secondary);
        }

        /* Feedback Display - Minimal */
        .feedback-display {
            background: var(--nvent-gray);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 30px;
            margin-top: 40px;
            text-align: center;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .feedback-display h3 {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 500;
        }

        .feedback-display p {
            color: var(--text-secondary);
            font-size: 1em;
            line-height: 1.5;
        }

        /* Inverter Controls - Minimal */
        .inverter-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 15px;
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 6px;
            padding: 15px 20px;
        }

        .quantity-btn {
            width: 36px;
            height: 36px;
            border: 1px solid var(--border-light);
            background: var(--white);
            color: var(--text-primary);
            border-radius: 4px;
            font-size: 1.2em;
            font-weight: 400;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .quantity-btn:hover {
            border-color: var(--nvent-red);
            color: var(--nvent-red);
        }

        .quantity-display {
            font-size: 1.1em;
            font-weight: 500;
            color: var(--text-primary);
            min-width: 40px;
            text-align: center;
        }

        .reset-btn {
            padding: 10px 20px;
            background: var(--white);
            color: var(--text-secondary);
            border: 1px solid var(--border-light);
            border-radius: 6px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .reset-btn:hover {
            color: var(--nvent-red);
            border-color: var(--nvent-red);
        }

        /* Tooltips - Minimal */
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 8px;
        }

        .tooltip-icon {
            width: 18px;
            height: 18px;
            background: var(--text-secondary);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tooltip-icon:hover {
            background: var(--nvent-red);
        }

        .tooltip-content {
            visibility: hidden;
            width: 280px;
            background: var(--text-primary);
            color: var(--white);
            text-align: left;
            border-radius: 6px;
            padding: 15px;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            margin-left: -140px;
            opacity: 0;
            transition: opacity 0.2s;
            font-size: 0.9em;
            box-shadow: var(--shadow-subtle);
            line-height: 1.4;
        }

        .tooltip-content::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--text-primary) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
        }

        /* Responsive Design - Minimalistic */
        @media (max-width: 1024px) {
            .container {
                padding: 30px 15px;
            }
            
            .header {
                flex-direction: column;
                text-align: center;
                gap: 20px;
                margin-bottom: 40px;
            }
            
            .header-logo img {
                height: 35px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .screen h2 {
                font-size: 1.8em;
                margin-bottom: 40px;
            }
            
            .radio-group {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .radio-option {
                padding: 25px;
            }
            
            .button-group {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                min-width: 100%;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .header-logo img {
                height: 30px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .screen h2 {
                font-size: 1.5em;
            }
            
            .form-group label {
                font-size: 1.1em;
            }
            
            .radio-option {
                padding: 20px;
            }
            
            .inverter-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .quantity-control {
                justify-content: center;
            }

            .benefit-grid {
                grid-template-columns: 1fr;
            }

            .benefit-card {
                padding: 25px;
            }

            .educational-intro h3 {
                font-size: 1.3em;
            }

            .educational-section h4 {
                font-size: 1.2em;
            }
        }

        /* Loading Animation - Minimal */
        .loading {
            display: none;
            text-align: center;
            padding: 80px 40px;
        }

        .loading.active {
            display: block;
        }

        .loading h3 {
            color: var(--text-primary);
            font-weight: 400;
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .loading p {
            color: var(--text-secondary);
            font-size: 1em;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 2px solid var(--border-light);
            border-top: 2px solid var(--nvent-red);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hide elements initially */
        .hidden {
            display: none !important;
        }

        /* Hide progress bar when Screen 5 is active */
        body:has(#screen5.active) .progress-container {
            display: none;
        }

        /* Product Showcase Styles */
        .product-showcase {
            text-align: center;
            margin: 25px 0;
            padding: 20px;
        }

        .product-image {
            width: 20%;
            height: auto;
            margin: 0 auto 15px;
            display: block;
        }

        .product-showcase .product-name {
            font-size: 1.5em;
            font-weight: 600;
            color: var(--nvent-red);
            margin-top: 15px;
        }

        /* Competitor Comparison - Minimalistic */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 40px 0;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .product-card {
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }

        .product-card:hover {
            border-color: var(--nvent-red);
            box-shadow: var(--shadow-subtle);
        }

        .product-card.erico {
            border-color: var(--nvent-red);
            box-shadow: 0 0 0 1px var(--nvent-red);
        }

        .product-card.failed {
            border-color: #dc3545;
            animation: shake 0.5s ease-in-out;
        }

        .product-card.failed::after {
            content: 'FAILED';
            position: absolute;
            top: 15px;
            right: 15px;
            background: #dc3545;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: 500;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .product-name {
            font-size: 1.2em;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .product-card.erico .product-name {
            color: var(--nvent-red);
        }

        .rating-display {
            font-size: 2.2em;
            font-weight: 300;
            color: var(--text-primary);
            margin: 20px 0;
        }

        .product-card.erico .rating-display {
            color: var(--nvent-red);
        }

        .rating-bar {
            width: 100%;
            height: 8px;
            background: var(--border-light);
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }

        .rating-fill {
            height: 100%;
            background: var(--nvent-red);
            border-radius: 4px;
            transition: all 0.6s ease;
            position: relative;
        }

        .rating-fill.failed {
            background: #dc3545;
        }

        .safety-margin {
            font-size: 1em;
            font-weight: 500;
            margin-top: 15px;
        }

        .safety-margin.positive {
            color: #28a745;
        }

        .safety-margin.negative {
            color: #dc3545;
        }

        .explode-animation {
            animation: explode 0.8s ease-out;
        }

        @keyframes explode {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Financial Calculator - Minimalistic Sliders */
        .slider-container {
            margin: 30px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .slider-label span:first-child {
            font-size: 1.1em;
        }

        .slider-label span:last-child {
            font-weight: 600;
            color: var(--nvent-red);
            font-size: 1.2em;
        }

        .slider {
            width: 100%;
            height: 4px;
            border-radius: 2px;
            background: var(--border-light);
            outline: none;
            transition: all 0.2s;
            -webkit-appearance: none;
            appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--nvent-red);
            cursor: pointer;
            border: 2px solid var(--white);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--nvent-red);
            cursor: pointer;
            border: 2px solid var(--white);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .roi-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 50px 0;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .roi-card {
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 40px 30px;
            text-align: center;
        }

        .roi-card.loss {
            border-color: #dc3545;
        }

        .roi-card.protected {
            border-color: #28a745;
        }

        .roi-value {
            font-size: 2.5em;
            font-weight: 300;
            margin: 25px 0;
        }

        .roi-card.loss .roi-value {
            color: #dc3545;
        }

        .roi-card.protected .roi-value {
            color: #28a745;
        }

        .project-summary {
            background: var(--nvent-gray);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 40px;
            margin: 50px 0;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 30px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-value {
            font-size: 1.8em;
            font-weight: 300;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .summary-label {
            color: var(--text-secondary);
            font-size: 0.9em;
            font-weight: 500;
        }

        /* Educational Page Styles */
        .educational-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .educational-intro {
            text-align: center;
            margin-bottom: 50px;
        }

        .educational-intro h3 {
            color: var(--text-primary);
            font-size: 1.5em;
            font-weight: 400;
            margin-bottom: 15px;
        }

        .educational-intro p {
            color: var(--text-secondary);
            font-size: 1.1em;
            line-height: 1.6;
        }

        .educational-section {
            margin-bottom: 50px;
        }

        .educational-section h4 {
            color: var(--nvent-red);
            font-size: 1.3em;
            font-weight: 500;
            margin-bottom: 25px;
            text-align: center;
        }

        .benefit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 40px;
            margin: 40px 0;
        }

        .benefit-card {
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 35px;
        }

        .benefit-card h5 {
            color: var(--text-primary);
            font-size: 1.2em;
            font-weight: 500;
            margin-bottom: 20px;
            text-align: center;
        }

        .benefit-list {
            list-style: none;
            padding: 0;
        }

        .benefit-list li {
            color: var(--text-secondary);
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
        }

        .benefit-list li::before {
            content: '•';
            color: var(--nvent-red);
            font-size: 1.2em;
            position: absolute;
            left: 0;
            top: 0;
        }

        .highlight-box {
            background: var(--nvent-gray);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            margin: 40px 0;
        }

        .highlight-box h4 {
            color: var(--nvent-red);
            font-size: 1.4em;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .highlight-box p {
            color: var(--text-primary);
            font-size: 1.1em;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-logo">
                <img src="asset/nvent-logo.png" alt="nVent" id="nventLogo">
            </div>
            <div class="header-content">
                <h1>Surge Protection Solution</h1>
                <p>for Mission-Critical Sites</p>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <!-- Screen 1: Project Input -->
        <div class="screen active" id="screen1">
            <h2>Step 1: Project Configuration</h2>
            
            <!-- System Size -->
            <div class="form-group">
                <label>System Size 
                    <span class="tooltip">
                        <span class="tooltip-icon">i</span>
                        <span class="tooltip-content">Select the total capacity of your solar installation in megawatts</span>
                    </span>
                </label>
                <div class="radio-group" id="systemSizeGroup">
                    <div class="radio-option" data-value="50">
                        <input type="radio" name="systemSize" value="50" id="size50">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>50 MW</h3>
                                <p>Medium-scale installation</p>
                            </div>
                        </div>
                    </div>
                    <div class="radio-option" data-value="75">
                        <input type="radio" name="systemSize" value="75" id="size75">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>75 MW</h3>
                                <p>Large-scale installation</p>
                            </div>
                        </div>
                    </div>
                    <div class="radio-option" data-value="100">
                        <input type="radio" name="systemSize" value="100" id="size100">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>100 MW</h3>
                                <p>Utility-scale installation</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inverter Configuration -->
            <div class="form-group">
                <label>Inverter Configuration 
                    <span class="tooltip">
                        <span class="tooltip-icon">i</span>
                        <span class="tooltip-content">These rules of thumb are designed to reflect typical inverter sizing practices for optimal efficiency and redundancy in data center applications</span>
                    </span>
                </label>
                <div class="radio-group" id="inverterTypeGroup">
                    <div class="radio-option" data-value="string">
                        <input type="radio" name="inverterType" value="string" id="typeString">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>String Inverters</h3>
                                <p>Distributed architecture with higher redundancy</p>
                            </div>
                        </div>
                    </div>
                    <div class="radio-option" data-value="central">
                        <input type="radio" name="inverterType" value="central" id="typeCentral">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>Central Inverters</h3>
                                <p>Centralized architecture for large installations</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Inverter Quantity Controls -->
                <div class="inverter-controls" id="inverterControls" style="display: none;">
                    <span style="color: var(--nvent-deep-red); font-weight: 600;">Quantity:</span>
                    <div class="quantity-control">
                        <button class="quantity-btn" id="decreaseBtn">−</button>
                        <span class="quantity-display" id="inverterQuantity">0</span>
                        <button class="quantity-btn" id="increaseBtn">+</button>
                    </div>
                    <button class="reset-btn" id="resetBtn">Reset to Industry Recommendations</button>
                </div>
            </div>

            <!-- Feedback Display -->
            <div class="feedback-display" id="feedbackDisplay" style="display: none;">
                <h3>Current Configuration</h3>
                <p id="feedbackText">Please select system size and inverter type</p>
            </div>

            <!-- Navigation -->
            <div class="button-group">
                <button class="btn btn-primary" id="analyzeBtn" disabled>
                    Analyze Protection Needs →
                </button>
            </div>
        </div>

        <!-- Screen 2: Fault Current Analysis -->
        <div class="screen" id="screen2">
            <h2>Step 2: Fault Current Analysis</h2>
            
            <div class="form-group">
                <label>Select Operating Scenario 
                    <span class="tooltip">
                        <span class="tooltip-icon">i</span>
                        <span class="tooltip-content">Different operating modes generate different fault current levels, affecting protection requirements</span>
                    </span>
                </label>
                <div class="radio-group" id="scenarioGroup">
                    <div class="radio-option" data-value="30">
                        <input type="radio" name="scenario" value="30" id="scenario30">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>Scenario A: Grid-Tied Only Mode</h3>
                                <p><strong>30 kA</strong> fault current level</p>
                            </div>
                        </div>
                    </div>
                    <div class="radio-option" data-value="45">
                        <input type="radio" name="scenario" value="45" id="scenario45">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>Scenario B: Island Mode / Generator Active</h3>
                                <p><strong>45 kA</strong> fault current level</p>
                            </div>
                        </div>
                    </div>
                    <div class="radio-option" data-value="60">
                        <input type="radio" name="scenario" value="60" id="scenario60">
                        <div class="radio-option-content">
                            <div class="radio-checkmark"></div>
                            <div class="radio-text">
                                <h3>Scenario C: Mission-Critical Facility</h3>
                                <p><strong>60 kA</strong> fault current level</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Scenario Feedback -->
            <div class="feedback-display" id="scenarioFeedback" style="display: none;">
                <h3 id="scenarioTitle">Selected Scenario</h3>
                <p id="scenarioDescription">Select a scenario above</p>
            </div>

            <!-- Navigation -->
            <div class="button-group">
                <button class="btn btn-secondary" id="backToStep1">← Back</button>
                <button class="btn btn-primary" id="compareBtn" disabled>
                    See Competitor Comparison →
                </button>
            </div>
        </div>

        <!-- Screen 3: Competitor Comparison -->
        <div class="screen" id="screen3">
            <h2>Step 3: Competitor Comparison</h2>
            
            <p style="color: var(--text-secondary); margin-bottom: 40px; text-align: center; font-size: 1.1em;">
                Compare the ERICO PVT21500R (65 kA rating) against competitor SPDs based on your selected fault current level.
                <span class="tooltip">
                    <span class="tooltip-icon">i</span>
                    <span class="tooltip-content">Products with ratings below the fault current level will fail to provide adequate protection</span>
                </span>
            </p>

            <div class="comparison-grid" id="comparisonGrid">
                <!-- Products will be dynamically populated -->
            </div>

            <div class="feedback-display" id="comparisonFeedback" style="display: none;">
                <h3 id="comparisonTitle">Analysis Results</h3>
                <p id="comparisonDescription">Click on any failed product to see the failure animation</p>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" id="backToStep2">← Back</button>
                <button class="btn btn-primary" id="calculateBtn">
                    Calculate Financial Impact →
                </button>
            </div>
        </div>

        <!-- Screen 4: Financial Impact & ROI Calculator -->
        <div class="screen" id="screen4">
            <h2>Step 4: Financial Impact & ROI Calculator</h2>
            
            <!-- Financial Inputs -->
            <div class="form-group">
                <label>Financial Parameters 
                    <span class="tooltip">
                        <span class="tooltip-icon">i</span>
                        <span class="tooltip-content">Adjust these values to match your specific project economics</span>
                    </span>
                </label>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Installed Inverter Cost per Unit</span>
                        <span id="inverterCostDisplay">$50,000</span>
                    </div>
                    <input type="range" min="25000" max="150000" value="50000" class="slider" id="inverterCostSlider">
                </div>

                <div class="slider-container">
                    <div class="slider-label">
                        <span>Cost of Downtime per Hour</span>
                        <span id="downtimeCostDisplay">$100,000</span>
                    </div>
                    <input type="range" min="10000" max="1000000" value="100000" class="slider" id="downtimeCostSlider">
                    <p style="font-size: 0.9em; color: var(--nvent-cool-gray); margin-top: 5px;">
                        (Consider typical downtime costs, which can range from $10,000 to over $1,000,000 per hour, depending on facility type and criticality.)
                    </p>
                </div>
            </div>

            <!-- ROI Analysis Display -->
            <div class="roi-comparison">
                <div class="roi-card loss">
                    <h3 style="color: #dc3545; margin-bottom: 15px;">With Undersized Protection</h3>
                    <div class="roi-value" id="potentialLoss">$0</div>
                    <p style="color: #dc3545; font-weight: 600;">Potential Loss from ONE Event</p>
                    <p style="font-size: 0.9em; color: var(--nvent-cool-gray); margin-top: 10px;">
                        Includes equipment replacement + 48 hours downtime
                    </p>
                </div>
                
                <div class="roi-card protected">
                    <h3 style="color: #28a745; margin-bottom: 15px;">With ERICO PVT21500R</h3>
                    <div class="roi-value" id="protectedValue">$0</div>
                    <p style="color: #28a745; font-weight: 600;">Value of Protected Uptime</p>
                    <p style="font-size: 0.9em; color: var(--nvent-cool-gray); margin-top: 10px;">
                        99% protection effectiveness
                    </p>
                </div>
            </div>

            <!-- Project Economics Summary -->
            <div class="project-summary">
                <h3 style="color: var(--nvent-red); text-align: center; margin-bottom: 20px;">Project Economics Summary</h3>
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="summary-value" id="summarySizeValue">0 MW</div>
                        <div class="summary-label">System Size</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="summaryRevenueValue">$0</div>
                        <div class="summary-label">Estimated Daily Revenue</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="summaryInverterCountValue">0</div>
                        <div class="summary-label">Inverter Count</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="summaryCostPerUnitValue">$0</div>
                        <div class="summary-label">Cost per Unit</div>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="button-group">
                <button class="btn btn-secondary" id="backToStep3">← Back</button>
                <button class="btn btn-primary" id="learnMoreBtn">
                    Learn More →
                </button>
            </div>
        </div>

        <!-- Screen 5: Educational Content -->
        <div class="screen" id="screen5">
            <!-- Product Showcase -->
            <div class="product-showcase">
                <img src="./asset/PH39039.png.webp" alt="ERICO PVT Surge Protection Device" class="product-image">
                <div class="product-name">PVT Surge</div>
            </div>
            
            <h2>Why 65 kA SCCR Protection Matters</h2>
            
            <div class="educational-content">
                <div class="educational-intro">
                    <h3>Understanding the Industry's Highest Safety Rating</h3>
                    <p>For microgrids and mission-critical applications where failure is not an option, specifying the right components is paramount.</p>
                </div>

                <div class="highlight-box">
                    <h4>Industry-Leading 65 kA SCCR Rating</h4>
                    <p>The Short-Circuit Current Rating (SCCR) defines the maximum fault current a device can withstand without catastrophic failure. Our 65 kA rating sets a new benchmark in surge protection.</p>
                </div>

                <div class="educational-section">
                    <h4>What Makes 65 kA SCCR Revolutionary?</h4>
                    <div class="benefit-grid">
                        <div class="benefit-card">
                            <h5>Best-in-Class Protection</h5>
                            <ul class="benefit-list">
                                <li>Industry-leading safety rating for electrical protection</li>
                                <li>Handles maximum fault current without failure</li>
                                <li>Robust protection for nearly any application</li>
                                <li>Prevents device from becoming a point of failure</li>
                            </ul>
                        </div>
                        
                        <div class="benefit-card">
                            <h5>Compact DIN Rail Design</h5>
                            <ul class="benefit-list">
                                <li>Space-saving compared to traditional panel mounts</li>
                                <li>Easy installation and maintenance</li>
                                <li>Perfect for high-density electrical environments</li>
                                <li>Fits modern control cabinets seamlessly</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="educational-section">
                    <h4>Perfect for Critical Applications</h4>
                    <div class="benefit-grid">
                        <div class="benefit-card">
                            <h5>Microgrid Applications</h5>
                            <ul class="benefit-list">
                                <li>Handles multiple power sources (solar, generators, batteries)</li>
                                <li>Protects against high fault currents from combined sources</li>
                                <li>Seamless integration into distributed control systems</li>
                                <li>Essential for modern renewable energy systems</li>
                            </ul>
                        </div>
                        
                        <div class="benefit-card">
                            <h5>Mission-Critical Facilities</h5>
                            <ul class="benefit-list">
                                <li>Essential for data centers, hospitals, manufacturing</li>
                                <li>Prevents costly downtime and equipment damage</li>
                                <li>Protects against arc flash hazards</li>
                                <li>Ensures continuous operation when failure isn't an option</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="highlight-box">
                    <h4>The Bottom Line</h4>
                    <p>65 kA SCCR in a space-saving DIN rail mount represents the highest level of surge protection available. It provides the certified safety and resilience required to protect the complex electrical systems that power today's critical infrastructure.</p>
                </div>
            </div>

            <!-- Navigation -->
            <div class="button-group">
                <button class="btn btn-secondary" id="backToStep4">← Back to Results</button>
                <button class="btn btn-primary" id="startOverBtn">Start from the Beginning</button>
            </div>
        </div>

    </div>

    <script>
        // Application State
        const appState = {
            currentScreen: 1,
            systemSize: null,
            inverterType: null,
            inverterQuantity: 0,
            manualQuantity: false,
            faultCurrent: null,
            scenario: null,
            inverterCost: 50000,
            downtimeCost: 100000
        };

        // Competitor Products Data
        const competitorProducts = [
            { name: 'ERICO PVT21500R', rating: 65, isErico: true },
            { name: 'Generic SPD A', rating: 25 },
            { name: 'Generic SPD B', rating: 35 },
            { name: 'Generic SPD C', rating: 40 },
            { name: 'Generic SPD D', rating: 50 },
            { name: 'Generic SPD E', rating: 55 }
        ];

        // DOM Elements
        const screens = document.querySelectorAll('.screen');
        const progressBar = document.getElementById('progressBar');
        const feedbackDisplay = document.getElementById('feedbackDisplay');
        const feedbackText = document.getElementById('feedbackText');
        const inverterControls = document.getElementById('inverterControls');
        const inverterQuantityDisplay = document.getElementById('inverterQuantity');
        const analyzeBtn = document.getElementById('analyzeBtn');

        // Calculation Functions
        function calculateInverterQuantity(systemSize, inverterType) {
            if (inverterType === 'string') {
                if (systemSize <= 20) return Math.round(systemSize * 8);
                if (systemSize <= 50) return Math.round(systemSize * 6);
                return Math.round(systemSize * 4);
            } else if (inverterType === 'central') {
                if (systemSize <= 50) return Math.round(systemSize * 0.4);
                return Math.round(systemSize * 0.25);
            }
            return 0;
        }

        function updateFeedback() {
            if (appState.systemSize && appState.inverterType) {
                feedbackDisplay.style.display = 'block';
                feedbackText.innerHTML = `
                    <strong>System Size:</strong> ${appState.systemSize} MW<br>
                    <strong>Inverter Type:</strong> ${appState.inverterType === 'string' ? 'String Inverters' : 'Central Inverters'}<br>
                    <strong>Quantity:</strong> ${appState.inverterQuantity} units
                `;
                analyzeBtn.disabled = false;
            } else {
                feedbackDisplay.style.display = 'none';
                analyzeBtn.disabled = true;
            }
        }

        function updateProgressBar() {
            const progress = (appState.currentScreen / 5) * 100;
            progressBar.style.width = progress + '%';
        }

        function showScreen(screenNumber) {
            screens.forEach(screen => screen.classList.remove('active'));
            document.getElementById(`screen${screenNumber}`).classList.add('active');
            appState.currentScreen = screenNumber;
            updateProgressBar();
            
            // Initialize screen-specific content
            if (screenNumber === 3) {
                renderCompetitorComparison();
            } else if (screenNumber === 4) {
                updateFinancialCalculations();
                updateProjectSummary();
            }
        }

        // Competitor Comparison Functions
        function calculateSafetyMargin(productRating, faultCurrent) {
            return ((productRating - faultCurrent) / faultCurrent) * 100;
        }

        function renderCompetitorComparison() {
            const comparisonGrid = document.getElementById('comparisonGrid');
            const comparisonFeedback = document.getElementById('comparisonFeedback');
            
            comparisonGrid.innerHTML = '';
            
            competitorProducts.forEach(product => {
                const safetyMargin = calculateSafetyMargin(product.rating, appState.faultCurrent);
                const isFailed = product.rating < appState.faultCurrent;
                const barWidth = (product.rating / 65) * 100; // 65 kA is max rating
                
                const productCard = document.createElement('div');
                productCard.className = `product-card ${product.isErico ? 'erico' : ''} ${isFailed ? 'failed' : ''}`;
                
                productCard.innerHTML = `
                    <div class="product-name">${product.name}</div>
                    <div class="rating-display">${product.rating} kA</div>
                    <div class="rating-bar">
                        <div class="rating-fill ${isFailed ? 'failed' : ''}" style="width: ${barWidth}%"></div>
                    </div>
                    <div class="safety-margin ${safetyMargin >= 0 ? 'positive' : 'negative'}">
                        Safety Margin: ${safetyMargin >= 0 ? '+' : ''}${safetyMargin.toFixed(1)}%
                    </div>
                `;
                
                // Add click event for failed products
                if (isFailed) {
                    productCard.addEventListener('click', () => {
                        productCard.classList.add('explode-animation');
                        setTimeout(() => {
                            productCard.classList.remove('explode-animation');
                        }, 800);
                    });
                }
                
                comparisonGrid.appendChild(productCard);
            });
            
            // Update feedback
            const failedCount = competitorProducts.filter(p => p.rating < appState.faultCurrent).length;
            comparisonFeedback.style.display = 'block';
            document.getElementById('comparisonTitle').textContent = 'Protection Analysis Results';
            document.getElementById('comparisonDescription').innerHTML = 
                `${failedCount} out of ${competitorProducts.length} products fail at ${appState.faultCurrent} kA fault current. Only ERICO PVT21500R provides adequate protection.`;
        }

        // Financial Calculation Functions
        function calculateEstimatedDailyRevenue(systemSize) {
            // systemSize_MW * 5_sun_hours * 40_$_per_MWh
            return systemSize * 5 * 40;
        }

        function calculatePotentialLoss(inverterCost, downtimeCost) {
            // installed_inverter_cost + (cost_of_downtime_per_hour * 48_hours)
            return inverterCost + (downtimeCost * 48);
        }

        function calculateProtectedValue(potentialLoss) {
            // potential_loss * 0.99
            return potentialLoss * 0.99;
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function updateFinancialCalculations() {
            const potentialLoss = calculatePotentialLoss(appState.inverterCost, appState.downtimeCost);
            const protectedValue = calculateProtectedValue(potentialLoss);
            
            document.getElementById('potentialLoss').textContent = formatCurrency(potentialLoss);
            document.getElementById('protectedValue').textContent = formatCurrency(protectedValue);
        }

        function updateProjectSummary() {
            const dailyRevenue = calculateEstimatedDailyRevenue(appState.systemSize);
            
            document.getElementById('summarySizeValue').textContent = `${appState.systemSize} MW`;
            document.getElementById('summaryRevenueValue').textContent = formatCurrency(dailyRevenue);
            document.getElementById('summaryInverterCountValue').textContent = `${appState.inverterQuantity}`;
            document.getElementById('summaryCostPerUnitValue').textContent = formatCurrency(appState.inverterCost);
        }

        // Event Listeners for Screen 1
        document.getElementById('systemSizeGroup').addEventListener('click', (e) => {
            const option = e.target.closest('.radio-option');
            if (option) {
                // Clear previous selections
                document.querySelectorAll('#systemSizeGroup .radio-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Select new option
                option.classList.add('selected');
                const radio = option.querySelector('input[type="radio"]');
                radio.checked = true;
                appState.systemSize = parseInt(option.dataset.value);

                // Update inverter quantity if type is selected
                if (appState.inverterType && !appState.manualQuantity) {
                    appState.inverterQuantity = calculateInverterQuantity(appState.systemSize, appState.inverterType);
                    inverterQuantityDisplay.textContent = appState.inverterQuantity;
                }

                updateFeedback();
            }
        });

        document.getElementById('inverterTypeGroup').addEventListener('click', (e) => {
            const option = e.target.closest('.radio-option');
            if (option) {
                // Clear previous selections
                document.querySelectorAll('#inverterTypeGroup .radio-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Select new option
                option.classList.add('selected');
                const radio = option.querySelector('input[type="radio"]');
                radio.checked = true;
                appState.inverterType = option.dataset.value;

                // Show inverter controls
                inverterControls.style.display = 'flex';

                // Calculate quantity if system size is selected
                if (appState.systemSize && !appState.manualQuantity) {
                    appState.inverterQuantity = calculateInverterQuantity(appState.systemSize, appState.inverterType);
                    inverterQuantityDisplay.textContent = appState.inverterQuantity;
                }

                updateFeedback();
            }
        });

        // Inverter quantity controls
        document.getElementById('increaseBtn').addEventListener('click', () => {
            appState.inverterQuantity++;
            appState.manualQuantity = true;
            inverterQuantityDisplay.textContent = appState.inverterQuantity;
            updateFeedback();
        });

        document.getElementById('decreaseBtn').addEventListener('click', () => {
            if (appState.inverterQuantity > 0) {
                appState.inverterQuantity--;
                appState.manualQuantity = true;
                inverterQuantityDisplay.textContent = appState.inverterQuantity;
                updateFeedback();
            }
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            if (appState.systemSize && appState.inverterType) {
                appState.manualQuantity = false;
                appState.inverterQuantity = calculateInverterQuantity(appState.systemSize, appState.inverterType);
                inverterQuantityDisplay.textContent = appState.inverterQuantity;
                updateFeedback();
            }
        });

        // Navigation buttons
        document.getElementById('analyzeBtn').addEventListener('click', () => {
            showScreen(2);
        });

        // Screen 2 Event Listeners
        document.getElementById('scenarioGroup').addEventListener('click', (e) => {
            const option = e.target.closest('.radio-option');
            if (option) {
                // Clear previous selections
                document.querySelectorAll('#scenarioGroup .radio-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Select new option
                option.classList.add('selected');
                const radio = option.querySelector('input[type="radio"]');
                radio.checked = true;
                appState.faultCurrent = parseInt(option.dataset.value);

                // Update scenario feedback
                const scenarioFeedback = document.getElementById('scenarioFeedback');
                const scenarioTitle = document.getElementById('scenarioTitle');
                const scenarioDescription = document.getElementById('scenarioDescription');
                
                scenarioFeedback.style.display = 'block';
                scenarioTitle.textContent = option.querySelector('h3').textContent;
                scenarioDescription.textContent = `Selected fault current: ${appState.faultCurrent} kA`;
                
                document.getElementById('compareBtn').disabled = false;
            }
        });

        document.getElementById('backToStep1').addEventListener('click', () => {
            showScreen(1);
        });

        document.getElementById('compareBtn').addEventListener('click', () => {
            showScreen(3);
        });

        // Screen 3 Navigation
        document.getElementById('backToStep2').addEventListener('click', () => {
            showScreen(2);
        });

        document.getElementById('calculateBtn').addEventListener('click', () => {
            showScreen(4);
        });

        // Screen 4 Slider Event Listeners
        const inverterCostSlider = document.getElementById('inverterCostSlider');
        const downtimeCostSlider = document.getElementById('downtimeCostSlider');
        const inverterCostDisplay = document.getElementById('inverterCostDisplay');
        const downtimeCostDisplay = document.getElementById('downtimeCostDisplay');

        inverterCostSlider.addEventListener('input', (e) => {
            appState.inverterCost = parseInt(e.target.value);
            inverterCostDisplay.textContent = formatCurrency(appState.inverterCost);
            updateFinancialCalculations();
            updateProjectSummary();
        });

        downtimeCostSlider.addEventListener('input', (e) => {
            appState.downtimeCost = parseInt(e.target.value);
            downtimeCostDisplay.textContent = formatCurrency(appState.downtimeCost);
            updateFinancialCalculations();
        });

        // Screen 4 Navigation
        document.getElementById('backToStep3').addEventListener('click', () => {
            showScreen(3);
        });

        document.getElementById('learnMoreBtn').addEventListener('click', () => {
            showScreen(5);
        });

        // Screen 5 Navigation
        document.getElementById('backToStep4').addEventListener('click', () => {
            showScreen(4);
        });

        document.getElementById('startOverBtn').addEventListener('click', () => {
            resetApplication();
        });

        // Reset Application Function
        function resetApplication() {
            // Reset application state
            appState.currentScreen = 1;
            appState.systemSize = null;
            appState.inverterType = null;
            appState.inverterQuantity = 0;
            appState.manualQuantity = false;
            appState.faultCurrent = null;
            appState.scenario = null;
            appState.inverterCost = 50000;
            appState.downtimeCost = 100000;

            // Clear all form selections
            document.querySelectorAll('.radio-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });

            // Reset UI elements
            inverterControls.style.display = 'none';
            inverterQuantityDisplay.textContent = '0';
            feedbackDisplay.style.display = 'none';
            analyzeBtn.disabled = true;

            // Reset sliders to default values
            inverterCostSlider.value = 50000;
            downtimeCostSlider.value = 100000;
            inverterCostDisplay.textContent = formatCurrency(50000);
            downtimeCostDisplay.textContent = formatCurrency(100000);

            // Hide scenario feedback
            document.getElementById('scenarioFeedback').style.display = 'none';
            document.getElementById('comparisonFeedback').style.display = 'none';
            document.getElementById('compareBtn').disabled = true;

            // Return to first screen
            showScreen(1);
        }


        // Logo fallback handling
        const nventLogo = document.getElementById('nventLogo');
        nventLogo.addEventListener('error', function() {
            // If logo fails to load, hide the logo container or show text fallback
            this.style.display = 'none';
            // Optionally add text fallback
            const logoContainer = this.parentElement;
            logoContainer.innerHTML = '<div style="color: var(--nvent-red); font-weight: bold; font-size: 1.2em;">nVent</div>';
        });

        // Initialize app
        updateProgressBar();
        updateFeedback();

        // Save state to localStorage for offline persistence
        function saveState() {
            localStorage.setItem('ericoAnalyzerState', JSON.stringify(appState));
        }

        function loadState() {
            const saved = localStorage.getItem('ericoAnalyzerState');
            if (saved) {
                Object.assign(appState, JSON.parse(saved));
                // Restore UI state would go here
            }
        }

        // Auto-save state on changes
        const originalSetState = Object.assign;
        
        // Load saved state on startup
        loadState();
    </script>
</body>
</html>